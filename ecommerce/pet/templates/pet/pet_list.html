{% extends 'core/base.html' %}
{% block title%}
{{block.super}} - Pets
{% endblock title %}
{% block content %}

<section class="container">
	<div class="row border-bottom">
		<div class="col-md-6">
			<h2 class="font-weight-bold text-info">
				<i class="fa-solid fa-paw"></i>
				Pets Cadastrados
			</h2>
		</div>	
		<div class="col-md-6">
			<div class="d-flex justify-content-end">
				<a class="btn btn-primary mb-3" href="{% url 'pet:pet_add' %}">Novo Pet <i class="fa-solid fa-paw"></i></a>
			</div>	
		</div>
	</div>

{% if pets %}
	<!-- LISTA DE ANIMAIS CADASTRADOS -->	 
	{% csrf_token %}
	
		<table class="table table-hover">
		  <thead>
		    <tr>
		      <th scope="col">#</th>
		      <th class="block-none" scope="col"><i class="fa-solid fa-user"></i> Tutor</th>
		      <th class="block-none" scope="col"><i class="fa-regular fa-circle"></i> Status</th>
		      <th class="text-center" scope="col"><i class="fa-sharp fa-solid fa-shield-cat"></i> Pet</th>
		      <th class="block-none" scope="col"><i class="fa-solid fa-paw"></i> Espécie</th>
		      <th class="text-center" scope="col"><i class="fa-solid fa-gears"></i>  Ações</th>
		    </tr>
		  </thead>
		  <tbody>
		  	 {% for pet in pets %}
			    <tr>
			   	  <th scope="row">{{pet.id}}</th>
			      <td class="block-none"></td>
			      <td class="block-none"></td>
			      <td class="text-center"><a href="{% url 'pet:pet_detail' pk=pet.id %}">{{pet.nome}}</a> ({{pet.apelido}})</td>
			      <td class="text-uppercase block-none">{{pet.especie}}</td>
			      <td>
			      	<div class="d-flex justify-content-end">
			      		<a class="btn btn-primary mr-2" href="{% url 'pet:pet_detail' pk=pet.id %}">
			      			<i class="fa-regular fa-eye"></i> 
			      			Visualizar
			      		</a>
			      		<a class="btn btn-warning text-white" href="{% url 'pet:pet_update' pk=pet.id %}">
			      			<i class="fa-regular fa-pen-to-square"></i>
			      			Editar
			      		</a>
			      	</div>	
			      </td>
			    </tr>
		    {% endfor %}
		  </tbody>
		</table>

{% else %}
	<p class="alert alert-warning mt-3">Sem itens na lista.</p>
{% endif%}	
	<!-- PAGINATOR -->
	<div class="row">
		<!-- ITENS POR PÁGINA -->
		<div class="col">
			<p class="">Itens por página:</p>
			<nav>
				<ul class="pagination pagination-sm">
				{% for qnt in items_list %}
					{% if qnt == qnt_page %}
						<li class="page-item active">
							<a class="page-link" href="#" tabindex="-1">{{ qnt }}</a>
						</li>	
						
					{% else %}
						<li class="page-item">
							<a class="page-link" href="{% url 'pet:pet_list'%}?limit={{qnt}}">{{ qnt }}</a>
						</li>	
						
					{% endif %}
				{% endfor %}
				</ul class="pagination pagination-sm">
			</nav>
		</div><!-- /Itens por página -->

		<!-- Paginator -->
		<div class="col-md-6">
			
			<nav  class="d-flex justify-content-end" >
			  <ul class="pagination">
			  	{% if pets.has_previous %}
				  	<li class="page-item">
				      <a class="page-link" href="{% url 'pet:pet_list'%}?limit={{qnt_page}}&page={{pets.previous_page_number}}">Anterior</a>
				    </li>
			    {% else %}
				    <li class="page-item disabled">
				      <a class="page-link"  href="#">Anterior</a>
				    </li>
			    {% endif %}
			    
			    {% for num in pets.paginator.page_range %}
			    	{% if num == pets.number %}
				    	<li class="page-item disabled">
				    		<a class="page-link" href="#">{{ num }}</a>
				    	</li>
			    	{% else %}
				    	<li class="page-item">
				    		<a class="page-link" href="{% url 'pet:pet_list'%}?limit={{qnt_page}}&page={{num}}">{{ num }}</a>
				    	</li>
			    	{% endif %}	
			    {% endfor %}

				{% if pets.has_next %}	    
				    <li class="page-item">
				      <a class="page-link" href="{% url 'pet:pet_list'%}?limit={{qnt_page}}&page={{pets.next_page_number}}">Próximo</a>
				    </li>
				{% else %}
					<li class="page-item disabled">
				      <a class="page-link" href="#">Próximo</a>
				    </li>    
				{% endif %}
			  </ul>
			</nav>
		</div>
		<!-- /Paginator -->
	</div>
</section>
{% endblock %}